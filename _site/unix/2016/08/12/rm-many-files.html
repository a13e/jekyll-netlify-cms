<p>とあるlogrotateの対象が*になってinode枯渇していることが</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">df</span> <span class="o">-</span><span class="n">i</span></code></pre></figure>

<p>とかしてたら判明した。</p>

<p>普通に頑張ろうと対象ディレクトリ配下に対して</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">*</span></code></pre></figure>

<p>をするとArgument list too longで怒られて削除できない。</p>

<h2 id="解決">解決</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">find</span> <span class="p">.</span> <span class="nf">-</span><span class="nb">name</span> <span class="p">.</span><span class="nf">/</span><span class="o">*</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">rm</span> <span class="o">-</span><span class="n">f</span></code></pre></figure>

<h2 id="参考">参考</h2>
<p>http://assimane.blog.so-net.ne.jp/2011-01-15</p>

